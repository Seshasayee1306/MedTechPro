{"ast":null,"code":"var _jsxFileName = \"/Users/seshasayeebalaji/Desktop/aws_proj/src/components/S3Contents.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction S3Contents() {\n  _s();\n  const [s3Contents, setS3Contents] = useState([]);\n  const [filteredContents, setFilteredContents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filterDate, setFilterDate] = useState('');\n  useEffect(() => {\n    fetchS3Contents();\n  }, []);\n  const fetchS3Contents = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('http://localhost:3001/api/s3-contents');\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to fetch S3 contents');\n      }\n      const data = await response.json();\n      setS3Contents(data);\n      setFilteredContents(data);\n    } catch (error) {\n      console.error('Error:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFilterChange = e => {\n    const selectedDate = e.target.value;\n    setFilterDate(selectedDate);\n    if (!selectedDate) {\n      setFilteredContents(s3Contents);\n      return;\n    }\n    const cutoff = new Date(selectedDate);\n    const filtered = s3Contents.filter(item => new Date(item.LastModified) >= cutoff);\n    setFilteredContents(filtered);\n  };\n  const formatDate = isoString => {\n    return new Date(isoString).toLocaleString();\n  };\n  const handleDownload = key => {\n    const encodedKey = encodeURIComponent(key);\n    window.open(`http://localhost:3001/api/download-s3-object?key=${encodedKey}`, '_blank');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"S3 Bucket Contents\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Filter by Date Added:\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: filterDate,\n        onChange: handleFilterChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [\"Error: \", error, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchS3Contents,\n        className: \"retry-button\",\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-section\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: filteredContents.length === 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"No matching files found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this) : filteredContents.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: item.Key\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 19\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 47\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: [\"Last Modified: \", formatDate(item.LastModified)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDownload(item.Key),\n            style: {\n              marginLeft: '10px'\n            },\n            children: \"\\u2B07\\uFE0F Download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 19\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(S3Contents, \"nzy+iP5oPXVWZaFF/s0ijH0E7Os=\");\n_c = S3Contents;\nexport default S3Contents;\nvar _c;\n$RefreshReg$(_c, \"S3Contents\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","S3Contents","_s","s3Contents","setS3Contents","filteredContents","setFilteredContents","loading","setLoading","error","setError","filterDate","setFilterDate","fetchS3Contents","response","fetch","ok","errorData","json","Error","data","console","message","handleFilterChange","e","selectedDate","target","value","cutoff","Date","filtered","filter","item","LastModified","formatDate","isoString","toLocaleString","handleDownload","key","encodedKey","encodeURIComponent","window","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","length","map","index","Key","style","marginLeft","_c","$RefreshReg$"],"sources":["/Users/seshasayeebalaji/Desktop/aws_proj/src/components/S3Contents.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction S3Contents() {\n  const [s3Contents, setS3Contents] = useState([]);\n  const [filteredContents, setFilteredContents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filterDate, setFilterDate] = useState('');\n\n  useEffect(() => {\n    fetchS3Contents();\n  }, []);\n\n  const fetchS3Contents = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('http://localhost:3001/api/s3-contents');\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to fetch S3 contents');\n      }\n      const data = await response.json();\n      setS3Contents(data);\n      setFilteredContents(data);\n    } catch (error) {\n      console.error('Error:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFilterChange = (e) => {\n    const selectedDate = e.target.value;\n    setFilterDate(selectedDate);\n    if (!selectedDate) {\n      setFilteredContents(s3Contents);\n      return;\n    }\n\n    const cutoff = new Date(selectedDate);\n    const filtered = s3Contents.filter(item => new Date(item.LastModified) >= cutoff);\n    setFilteredContents(filtered);\n  };\n\n  const formatDate = (isoString) => {\n    return new Date(isoString).toLocaleString();\n  };\n\n  const handleDownload = (key) => {\n    const encodedKey = encodeURIComponent(key);\n    window.open(`http://localhost:3001/api/download-s3-object?key=${encodedKey}`, '_blank');\n  };\n\n  return (\n    <div className=\"page-container\">\n      <h1>S3 Bucket Contents</h1>\n\n      <label>\n        Filter by Date Added:&nbsp;\n        <input\n          type=\"date\"\n          value={filterDate}\n          onChange={handleFilterChange}\n        />\n      </label>\n\n      {error && (\n        <div className=\"error-message\">\n          Error: {error}\n          <button onClick={fetchS3Contents} className=\"retry-button\">Retry</button>\n        </div>\n      )}\n\n      {loading ? (\n        <div className=\"loading\">Loading...</div>\n      ) : (\n        <div className=\"content-section\">\n          <ul>\n            {filteredContents.length === 0 ? (\n              <li>No matching files found</li>\n            ) : (\n              filteredContents.map((item, index) => (\n                <li key={index}>\n                  <strong>{item.Key}</strong> <br />\n                  <small>Last Modified: {formatDate(item.LastModified)}</small>\n                  <button\n                    onClick={() => handleDownload(item.Key)}\n                    style={{ marginLeft: '10px' }}\n                  >\n                    ⬇️ Download\n                  </button>\n                </li>\n              ))\n            )}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default S3Contents;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}